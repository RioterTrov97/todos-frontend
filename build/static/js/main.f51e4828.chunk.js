(this.webpackJsonptodos=this.webpackJsonptodos||[]).push([[0],{26:function(e,t,c){},33:function(e,t,c){},52:function(e,t,c){},53:function(e,t,c){},55:function(e,t,c){},56:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),s=c(7),o=c.n(s),r=(c(26),c(3)),l=c(5),i=(c(33),c(6)),d=c.n(i),u=d.a.create({baseURL:"https://ashish5061-task-manager.herokuapp.com",headers:{"Content-Type":"application/json"}}),j=d.a.create({baseURL:"https://ashish5061-task-manager.herokuapp.com",headers:{Authorization:"Bearer "+window.localStorage.getItem("token")}}),h=d.a.create({baseURL:"https://ashish5061-task-manager.herokuapp.com",headers:{"Content-Type":"application/json",Authorization:"Bearer "+window.localStorage.getItem("token")}}),b=d.a.create({baseURL:"https://ashish5061-task-manager.herokuapp.com",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer "+window.localStorage.getItem("token")}}),m=u,p=c(8),O=Object(p.b)({name:"user",initialState:{user:null},reducers:{login:function(e,t){e.user=t.payload},logout:function(e){e.user=null}}}),g=O.actions,f=g.login,k=g.logout,v=function(e){return e.user.user},x=O.reducer,w=(c(52),c.p+"static/media/todosLogo.b556012e.png"),N=(c(53),c(1));var y=function(){return Object(N.jsxs)("div",{className:"sk-circle",children:[Object(N.jsx)("div",{className:"sk-circle1 sk-child"}),Object(N.jsx)("div",{className:"sk-circle2 sk-child"}),Object(N.jsx)("div",{className:"sk-circle3 sk-child"}),Object(N.jsx)("div",{className:"sk-circle4 sk-child"}),Object(N.jsx)("div",{className:"sk-circle5 sk-child"}),Object(N.jsx)("div",{className:"sk-circle6 sk-child"}),Object(N.jsx)("div",{className:"sk-circle7 sk-child"}),Object(N.jsx)("div",{className:"sk-circle8 sk-child"}),Object(N.jsx)("div",{className:"sk-circle9 sk-child"}),Object(N.jsx)("div",{className:"sk-circle10 sk-child"}),Object(N.jsx)("div",{className:"sk-circle11 sk-child"}),Object(N.jsx)("div",{className:"sk-circle12 sk-child"})]})};var S=function(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(!1),o=Object(r.a)(s,2),i=o[0],d=o[1],u=Object(n.useState)(""),j=Object(r.a)(u,2),h=j[0],b=j[1],p=Object(n.useState)(""),O=Object(r.a)(p,2),g=O[0],k=O[1],v=Object(n.useState)(""),x=Object(r.a)(v,2),S=x[0],I=x[1],_=Object(l.b)(),C={name:h,email:g,password:S};return Object(N.jsxs)("div",{className:"login",children:[Object(N.jsx)("img",{src:w,alt:"",className:"login__logo"}),c?Object(N.jsx)(y,{}):Object(N.jsxs)("div",{children:[Object(N.jsxs)("form",{children:[i?Object(N.jsx)("div",{className:"logins",children:Object(N.jsx)("input",{value:h,onChange:function(e){return b(e.target.value)},placeholder:"Full name",type:"text"})}):null,Object(N.jsx)("input",{value:g,onChange:function(e){return k(e.target.value)},placeholder:"Email",type:"email"}),Object(N.jsx)("input",{value:S,onChange:function(e){return I(e.target.value)},placeholder:"Password",type:"password"}),Object(N.jsx)("button",{type:"submit",onClick:i?function(e){e.preventDefault(),a(!0),m.post("/users",C).then((function(e){console.log(e),window.localStorage.setItem("token",e.data.token),a(!1),_(f({name:e.data.user.name,email:e.data.user.email,token:e.data.token})).then(window.location.reload())})).catch((function(e){console.log("Error: --\x3e ",e),a(!1)}))}:function(e){e.preventDefault(),a(!0),m.post("/users/login",C).then((function(e){console.log(e),window.localStorage.setItem("token",e.data.token),a(!1),_(f({name:e.data.user.name,email:e.data.user.name,token:e.data.token})).then(window.location.reload())})).catch((function(e){console.log(e),a(!1)}))},children:i?"Sign Up":"Sign In"})]}),Object(N.jsxs)("p",{children:["Not a member?"," ",Object(N.jsx)("span",{className:"login__register",onClick:function(){return d(!i)},children:i?"Login":"Register Now"})]})]})]})};c(55);function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var c=arguments[t];for(var n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n])}return e}).apply(this,arguments)}function _(e,t){if(null==e)return{};var c,n,a=function(e,t){if(null==e)return{};var c,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)c=s[n],t.indexOf(c)>=0||(a[c]=e[c]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)c=s[n],t.indexOf(c)>=0||Object.prototype.propertyIsEnumerable.call(e,c)&&(a[c]=e[c])}return a}var C=n.createElement("g",{id:"XMLID_1473_"},n.createElement("path",{id:"XMLID_1476_",d:"m118.832 467.243c1.193 24.006 20.863 42.757 44.944 42.757h182.447c24.081 0 43.753-18.75 44.944-42.757l26.28-302.243h-324.895zm181.168-227.243h30v165h-30zm-60 0h30v165h-30zm-60 0h30v165h-30z"}),n.createElement("path",{id:"XMLID_1481_",d:"m330 75v-30c0-24.812-20.186-45-45-45h-60c-24.812 0-45 20.188-45 45v30h-120v60h390v-60zm-120 0v-30c0-8.271 6.73-15 15-15h60c8.272 0 15 6.729 15 15v30z"}));function L(e,t){var c=e.title,a=e.titleId,s=_(e,["title","titleId"]);return n.createElement("svg",I({id:"Layer_1",height:16,viewBox:"0 0 510 510",width:16,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},s),c?n.createElement("title",{id:a},c):null,C)}var B=n.forwardRef(L);c.p;var E=function(){var e=Object(n.useState)(""),t=Object(r.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(!1),o=Object(r.a)(s,2),l=o[0],i=o[1],d=Object(n.useState)(!1),u=Object(r.a)(d,2),j=u[0],m=u[1],p=Object(n.useState)([]),O=Object(r.a)(p,2),g=O[0],f=O[1],k=g.map((function(e){return Object(N.jsxs)("div",{className:"task ".concat(e.completed?"taskBg":null),children:[Object(N.jsxs)("div",{className:"taskLeft",children:[Object(N.jsx)("input",{className:"task_check",type:"checkbox",checked:e.completed,onChange:function(t){return function(e,t,c){e.preventDefault();var n={completed:!c};m(!0),h.patch("/tasks/".concat(t),n).then((function(e){i(!l),m(!1)})).catch((function(e){console.log("error",e),m(!1)}))}(t,e._id,e.completed)}}),Object(N.jsx)("p",{className:"task_desc ".concat(e.completed?"taskStrike":null),children:e.description})]}),Object(N.jsx)("div",{className:"taskRight",children:Object(N.jsx)("button",{onClick:function(t){!function(e,t){e.preventDefault(),m(!0),b.delete("/tasks/".concat(t)).then((function(e){m(!1),i(!l)})).catch((function(e){m(!1),console.log(e,"error")}))}(t,e._id)},children:Object(N.jsx)(B,{className:"svgIcon ".concat(e.completed?"taskSvg":null)})})})]},e._id)}));return Object(n.useEffect)((function(){!function(e,t,c,n){m(!0);var a="?sortBy=createdAt:desc";""===e&&(e=1),""!==t&&void 0!==t||(t=10),e&&(a+="&page="+e),t&&(a+="&limit="+t),(c||!1===c)&&(a+="&completed="+c),n&&(a+="&search="+n),h.get("/tasks".concat(a)).then((function(e){f(e.data),m(!1)})).catch((function(e){return console.log("error",e),m(!1),e}))}()}),[l]),Object(N.jsxs)("div",{className:"body",children:[Object(N.jsxs)("div",{className:"bodyTop",children:[Object(N.jsx)("input",{value:c,onChange:function(e){return a(e.target.value)},placeholder:"Add task here",type:"text"}),Object(N.jsx)("button",{onClick:function(e){return function(e){e.preventDefault();var t={description:c};m(!0),h.post("/tasks",t).then((function(e){i(!l),console.log(e),m(!1)})).catch((function(e){m(!1),console.log("error",e)}))}(e)},children:"Add"})]}),Object(N.jsxs)("div",{className:"bodyBottom",children:[Object(N.jsx)("div",{className:"loadingHere ".concat(j?"load":null),children:j?Object(N.jsx)(y,{}):null}),Object(N.jsx)("div",{className:"taskList",children:k})]})]})};var z=function(){var e=Object(n.useState)(!0),t=Object(r.a)(e,2),c=t[0],a=t[1],s=Object(l.c)(v),o=Object(l.b)(),i={"Content-Type":"",Authorization:"Bearer "+window.localStorage.getItem("token")};return Object(n.useEffect)((function(){a(!0),window.localStorage.getItem("token")?j.get("/users/me").then((function(e){a(!1),o(f({name:e.data.name,email:e.data.email,token:window.localStorage.getItem("token")}))})).catch((function(e){console.log(e),a(!1)})):a(!1)}),[o]),Object(N.jsx)("div",{className:"App",children:s?c?Object(N.jsxs)("div",{children:[Object(N.jsx)(y,{}),Object(N.jsx)("p",{style:{color:"#f72b2b",textAlign:"center",fontWeight:450},children:"Logging Out"})]}):Object(N.jsxs)("div",{className:"appBody",children:[Object(N.jsxs)("div",{className:"appBody__Header",children:[Object(N.jsxs)("p",{children:["Hi ",Object(N.jsx)("span",{children:s.name.toUpperCase()}),", Welcome to your task manager"]}),Object(N.jsx)("button",{onClick:function(e){e.preventDefault(),a(!0),d.a.post("https://ashish5061-task-manager.herokuapp.com/users/logout","",{headers:i}).then((function(e){console.log(e),window.localStorage.removeItem("token"),o(k()),a(!1)})).catch((function(e){console.log(e),a(!1)}))},children:"Log Out"})]}),Object(N.jsx)(E,{})]}):c?Object(N.jsx)(y,{}):Object(N.jsx)(S,{})})},A=Object(p.a)({reducer:{user:x}});o.a.render(Object(N.jsx)(a.a.StrictMode,{children:Object(N.jsx)(l.a,{store:A,children:Object(N.jsx)(z,{})})}),document.getElementById("root"))}},[[56,1,2]]]);
//# sourceMappingURL=main.f51e4828.chunk.js.map